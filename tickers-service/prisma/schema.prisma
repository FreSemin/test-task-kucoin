generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

model Symbol {
  id             Int             @id @default(autoincrement())
  symbol         String          @unique
  symbolName     String
  ticker         Tickers?
  TickersHistory TickersHistory?
}

model Tickers {
  id               Int              @id @default(autoincrement())
  symbol           Symbol           @relation(fields: [symbolId], references: [id])
  symbolId         Int              @unique
  buy              Float
  sell             Float
  bestBidSize      Float
  bestAskSize      Float
  changeRate       Float
  changePrice      Float
  high             Float
  low              Float
  vol              Float
  volValue         Float
  last             Float
  averagePrice     Float
  takerFeeRate     Float
  makerFeeRate     Float
  takerCoefficient Float
  makerCoefficient Float
  updatedTime      BigInt           @db.BigInt
  TickerHistory    TickersHistory[]
}

model TickersHistory {
  id               Int     @id @default(autoincrement())
  ticker           Tickers @relation(fields: [tickerId], references: [id])
  symbol           Symbol  @relation(fields: [symbolId], references: [id])
  symbolId         Int     @unique
  buy              Float
  sell             Float
  bestBidSize      Float
  bestAskSize      Float
  changeRate       Float
  changePrice      Float
  high             Float
  low              Float
  vol              Float
  volValue         Float
  last             Float
  averagePrice     Float
  takerFeeRate     Float
  makerFeeRate     Float
  takerCoefficient Float
  makerCoefficient Float
  updatedTime      BigInt  @db.BigInt
  tickerId         Int
}
